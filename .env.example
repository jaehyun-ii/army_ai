# ==============================================
# Army AI Platform - Environment Configuration
# ==============================================

# ==================
# PostgreSQL Database
# ==================
POSTGRES_USER=admin
POSTGRES_PASSWORD=adminpw
POSTGRES_DB=armydb
POSTGRES_PORT=5432

# ==================
# pgAdmin Configuration
# ==================
PGADMIN_EMAIL=admin@example.com
PGADMIN_PASSWORD=adminpw
PGADMIN_PORT=5050

# ==================
# Backend (FastAPI) Configuration
# ==================
BACKEND_PORT=8000

# Security
SECRET_KEY=your-secret-key-change-this-in-production-use-random-string
ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=30

# Application
APP_NAME="Army AI Platform API"
DEBUG=True  # Set to True for development mode with auto-reload (only for code changes, not storage files)
API_PREFIX=/api/v1
LOG_LEVEL=INFO
ENVIRONMENT=development  # development, staging, production

# GPU Configuration (for GPU deployment)
NVIDIA_VISIBLE_DEVICES=all  # all or 0,1,2... (GPU indices)
CUDA_VISIBLE_DEVICES=0  # Primary GPU to use

# Server Configuration
GRACEFUL_SHUTDOWN_TIMEOUT=1  # Seconds to wait for connections to close on shutdown (1 for dev, 30 for prod)

# Storage (File uploads: datasets, models, patches, etc.)
# Local development: ./storage (relative path from backend/)
# Docker: /storage (bind mount to ./storage)
STORAGE_ROOT=./storage
STORAGE_TYPE=local  # local or s3

# S3 Configuration (Optional - if STORAGE_TYPE=s3)
# AWS_ACCESS_KEY_ID=your-access-key
# AWS_SECRET_ACCESS_KEY=your-secret-key
# AWS_REGION=us-east-1
# S3_BUCKET=army-ai-storage

# ==================
# Frontend (Next.js) Configuration
# ==================
FRONTEND_PORT=3000

# Database URL for Prisma
DATABASE_URL=postgresql://admin:adminpw@postgres:5432/armydb?schema=public

# NextAuth Configuration
NEXTAUTH_URL=http://localhost:3000
NEXTAUTH_SECRET=your-nextauth-secret-change-this-use-random-string
JWT_SECRET=your-jwt-secret-change-this-use-random-string

# Node Environment
NODE_ENV=production

# API URLs
NEXT_PUBLIC_API_URL=http://localhost:8000
NEXT_PUBLIC_FLASK_API_URL=http://localhost:5000

# ==================
# Development Tools (Optional)
# ==================
# Redis (Caching/Sessions)
REDIS_PORT=6379
REDIS_HOST=redis
REDIS_URL=redis://redis:6379

# MailHog (Email Testing)
MAILHOG_SMTP_PORT=1025
MAILHOG_UI_PORT=8025
SMTP_HOST=mailhog
SMTP_PORT=1025

# ==================
# Production Notes
# ==================
# 1. Change all 'your-*-change-this' values to secure random strings
# 2. Use strong passwords for database and admin accounts
# 3. Set DEBUG=False in production
# 4. Set NODE_ENV=production for frontend
# 5. Configure proper NEXTAUTH_URL for your domain
# 6. Consider using external secret management (e.g., Docker secrets, AWS Secrets Manager)
# 7. For S3 storage, uncomment and configure AWS credentials

# To generate secure random strings:
# openssl rand -base64 32
